<style>
    * {
        box-sizing: border-box;
    }

    body {
        margin: 0 auto auto;
        width: min(80rem, calc(100% - 4rem));
    }

    label {
        display: block;
        margin-top: 1rem;
    }

    input:not([type="radio"]):not(.inline),
    fieldset {
        width: min(100%, 30rem);
        display: block;
    }

    #generators,
    #goals {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
    }

    #generators>section {
        padding: 1rem;
        border: 1px solid rgb(0, 0, 0, 0.2);
        width: 15rem;
    }

    #addGenerator {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    button {
        padding: 1rem;
        margin-top: 1rem;
    }

    .danger {
        background-color: rgb(255, 200, 200);
    }

    .hidden {
        display: none;
    }

    table {
        border-collapse: collapse;
    }

    th,
    td {
        padding: 0.5rem;
        border: 1px solid lightgray;
    }

    #graph {
        border: 1px solid lightgray;
        height: 30rem;
        width: min(80rem, 100%);
        margin-top: 2rem;
    }
</style>

<script src="/solver.js"></script>
<script src="/index.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>

<body>
    <h1>
        Conditions
    </h1>
    <section id="goals">
        <section>
            <label>Initial Money<input type="number"></label>
            <label>Time Limit<input type="number"></label>
            <label>Labor Limit (time per time)<input type="number"></label>
        </section>
        <fieldset>
            <legend>
                Goal
            </legend>
            <label><input type="radio" name="goal">Maximize Money</label>
            <label><input type="radio" name="goal">Maximize chance of reaching <input placeholder="enter a number..."
                    class="inline" type="number"></label>
        </fieldset>
    </section>

    <h1>
        Generators
    </h1>
    <section id="generators">
        <section>
            <label>Name<input name="name" type="text"></label>
            <label>Cost<input name="cost" type="number"></label>
            <label>Income<input name="income" type="number"></label>
            <button>Clone</button>
            <button class="danger hidden" onclick="this.parentElement.remove()">Delete</button>
        </section>
        <section id="addGenerator">
            <button onclick="addBlankGenerator()">Add Another</button>
        </section>
    </section>
    <button onclick="simulate()">Simulate</button>

    <h1>
        Results
    </h1>
    <section id="results">
        <table>
            <thead>
            <tr>
                <th>Purchase Order</th>
                <th>Ending value after 100 steps</th>
                <th>Ending income</th></th>
            </tr>
            </thead>
            <tbody></tbody>
        </table>
        <canvas id="graph"></canvas>
    </section>

</body>
